<!DOCTYPE html>
<html>

<head>
	<link id="theme" rel="stylesheet" type="text/css" href="css/dark.css" />
		<script>
			function toggleTheme() {
				// Obtains an array of all <link>
				// elements.
				// Select your element using indexing.
				var theme = document.getElementsByTagName('link')[0];
				
				// Change the value of href attribute 
				// to change the css sheet.
				if (theme.getAttribute('href') == 'css/light.css') {
					theme.setAttribute('href', 'css/dark.css');
				} else {
					theme.setAttribute('href', 'css/light.css');
				}
			}
		</script>		
</head>


<body>
<button onclick="toggleTheme()">Change theme</button>
	<div class = "head">
		<h1>Check if a number is a Happy number</h1> 
	</div>	
	<div class = "main">		
		<h3><i>Happy number</i></h3>
			<p>In number theory, a happy number is a number which eventually reaches 1 when replaced by the sum of the square of each digit. For instance, 13 is a happy number because: 1^2+3^2=10, AND 1^2+0^2=1. 
			On the other hand, 4 is not a happy number because the sequence starting with 4^2=16 and 1^2+6^2=37 eventually reaches 2^2+0^2=4, the number that started the sequence, and so the process continues in an infinite cycle without ever reaching 1. 
			A number which is not happy is called sad or unhappy. </p> 
	</div>
    
	<div class = "result">
		<p><b>Enter an integer</b></p>
		<input type="number" id="num" ><br>
		<button onclick="displayMessage()">Sumbit</button>
		<p id="showinputhere"></p>
	</div>

<script>

function numSquareSum(n)

{
	var squareSum = 0;
	while (n!= 0)
	{
		squareSum += (n % 10) * (n % 10);
		n = parseInt(n/10);
	}
	return squareSum;
}

// method return true if n is Happy number
function isHappynumber(n)

{
	var slow, fast;

	// initialize slow and fast by n
	slow = fast = n;
	do
	{
		// move slow number
		// by one iteration
		slow = numSquareSum(slow);

		// move fast number
		// by two iteration
		fast = numSquareSum(numSquareSum(fast));

	}
	while (slow != fast);

	// if both number meet at 1,
	// then return true
	return (slow == 1);
}

function displayMessage(){
    let n = document.getElementById("num").value;
    if (isHappynumber(n))
        document.getElementById("showinputhere").innerHTML = n + " is a Happy number";
    else
        document.getElementById("showinputhere").innerHTML = n + " is a sad number";
   
}


</script>

</body>
</html>